<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>上传汇款凭证</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/tailwindcss">
    @layer utilities {
      .input-focus {
        @apply focus:outline-none focus:ring-1 focus:ring-blue-500;
      }
      .dashed-border {
        @apply border-2 border-dashed border-gray-300 hover:border-blue-500 hover:text-blue-500 transition-colors;
      }
      .form-section {
        @apply bg-gray-50 rounded-lg p-4 mb-5;
      }
      .section-title {
        @apply text-sm font-medium text-gray-700 mb-3 flex items-center;
      }
      .section-title::before {
        content: "";
        @apply inline-block w-2 h-2 bg-blue-500 rounded-full mr-2;
      }
    }
  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
  <!-- 弹窗遮罩层 -->
  <div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
    <!-- 弹窗主体 -->
    <div class="bg-white rounded-lg w-full max-w-4xl p-5 shadow-xl">
      <!-- 标题栏 -->
      <div class="flex justify-between items-center mb-5">
        <h2 class="text-lg font-medium">上传汇款凭证</h2>
        <button class="text-gray-500 hover:text-gray-700 text-lg transition-colors">×</button>
      </div>

      <!-- 表单内容区域 -->
      <form class="space-y-5">
        <!-- 1. 基础汇款信息（联动核心区） -->
        <div class="form-section">
          <h3 class="section-title">基础信息</h3>
          <!-- 第一行：汇款方式和汇款时间 -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <!-- 汇款方式 -->
            <div>
              <label class="block text-sm mb-1">
                <span class="text-red-500">*</span>汇款方式
              </label>
              <select class="w-full px-3 py-2 border rounded text-sm input-focus" required>
                <option value="bankTransfer">银行转账</option>
                <option value="wireTransfer">电汇</option>
                <option value="other">其他方式</option>
              </select>
            </div>

            <!-- 汇款时间 -->
            <div>
              <label class="block text-sm mb-1">
                <span class="text-red-500">*</span>汇款时间
              </label>
              <input 
                type="date" 
                class="w-full px-3 py-2 border rounded text-sm input-focus"
                required
              >
            </div>
          </div>

          <!-- 第二行：币种和收款账号 -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- 币种（联动源头） -->
            <div>
              <label class="block text-sm mb-1">
                <span class="text-red-500">*</span>币种
              </label>
              <select id="currency" class="w-full px-3 py-2 border rounded text-sm input-focus" required>
                <option value="">请选择币种</option>
                <option value="CNY">人民币（CNY）</option>
                <option value="USD">美元（USD）</option>
                <option value="EUR">欧元（EUR）</option>
              </select>
            </div>

            <!-- 收款账户（由币种联动） -->
            <div>
              <label class="block text-sm mb-1">
                <span class="text-red-500">*</span>收款账户
              </label>
              <select id="receivingAccount" class="w-full px-3 py-2 border rounded text-sm input-focus" required disabled>
                <option value="">请先选择币种</option>
              </select>
            </div>

            <!--汇款金额 -->
            <div> 
              <label class="block text-sm mb-1">
                <span class="text-red-500">*</span>汇款金额
              </label>
              <input 
                type="number" 
                step="0.01" 
                min="0" 
                class="w-full px-3 py-2 border rounded text-sm input-focus"
                placeholder="请输入汇款金额"
                required
              >
            </div>

             <!--交易号 -->
             <div>
              <label class="block text-sm mb-1">
                <span class="text-red-500">*</span>交易号
              </label>
              <input 
                type="text" 
                class="w-full px-3 py-2 border rounded text-sm input-focus"
                placeholder="16/28/32位数字交易号"
                required
              >
            </div>
          </div>
        </div>



        <!-- 4. 备注与附件 -->
        <div class="form-section">
          <h3 class="section-title">其他信息</h3>
          <div class="space-y-4">
            <!-- 备注 -->
            <div>
              <label class="block text-sm mb-1">备注</label>
              <textarea 
                class="w-full px-3 py-2 border rounded text-sm input-focus min-h-[80px]"
                placeholder="请输入备注（如订单号、用途等）"
              ></textarea>
            </div>

            <!-- 上传附件 -->
            <div>
              <label class="block text-sm mb-1">上传附件</label>
              <div class="flex items-start gap-4">
                <!-- 上传按钮 -->
                <div class="w-20 h-20 dashed-border rounded flex flex-col items-center justify-center text-gray-400 cursor-pointer hover:bg-gray-50 transition-colors">
                  <i class="fa fa-cloud-upload text-2xl mb-1"></i>
                  <span class="text-xs">点击上传</span>
                </div>
                <!-- 上传说明 -->
                <div class="flex-1">
                  <p class="text-xs text-gray-500">
                    仅限上传 gif、png、jpg、jpeg 格式文件 | 单个文件≤100MB | 最多上传5个文件
                  </p>
                </div>
                <!-- 已选数量 -->
                <div class="text-sm text-gray-500 self-end">0 / 5</div>
              </div>
            </div>
          </div>
        </div>

        <!-- 底部按钮区域 -->
        <div class="flex justify-end gap-3 mt-2">
          <button type="button" class="px-4 py-2 border border-gray-300 rounded text-sm hover:bg-gray-50 transition-colors">取消</button>
          <button type="submit" class="px-4 py-2 bg-blue-300 text-white rounded text-sm hover:bg-blue-400 transition-colors">提交</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // 预设联动数据字典（实际项目可从接口获取）
    const linkageData = {
      // 币种 → 收款账户映射
      currencyToAccounts: {
        CNY: [
          { id: "CNY-NB001", name: "0760-宁波发现（人民币）", bank: "中国工商银行", branch: "中国工商银行宁波分行 ", account: " 622208 390100 1234567" },
          { id: "CNY-SH002", name: "0880-上海创科（人民币）", bank: "中国农业银行", branch: "中国农业银行上海分行 ", account: " 622848 00380 12345678" }
        ],
        USD: [
          { id: "USD-HK001", name: "0990-香港环球（美元）", bank: "HSBC", branch: "HSBC Hong Kong ", account: " 808-1234567-89" },
          { id: "USD-NY002", name: "1010-纽约分行（美元）", bank: "Citibank", branch: " Citibank New York ", account: " 3629-87654321-00" }
        ],
        EUR: [
          { id: "EUR-DE001", name: "1120-法兰克福（欧元）", bank: "Deutsche Bank", branch: "Deutsche Bank Frankfurt ", account: " DE89 3704 0044 0532 0130 00" }
        ]
      }
    };

    // 获取DOM元素
    const currencySelect = document.getElementById("currency");
    const receivingAccountSelect = document.getElementById("receivingAccount");

    // 1. 币种选择联动收款账户
    currencySelect.addEventListener("change", function() {
      const selectedCurrency = this.value;
      // 清空下游字段
      receivingAccountSelect.innerHTML = "";

      if (!selectedCurrency) {
        // 未选币种：禁用收款账户
        receivingAccountSelect.innerHTML = '<option value="">请先选择币种</option>';
        receivingAccountSelect.disabled = true;
        return;
      }

      // 已选币种：填充对应收款账户
      receivingAccountSelect.disabled = false;
      const accounts = linkageData.currencyToAccounts[selectedCurrency];
      
      // 添加默认选项
      const defaultOption = document.createElement("option");
      defaultOption.value = "";
      defaultOption.textContent = "请选择收款账户";
      receivingAccountSelect.appendChild(defaultOption);

      // 添加对应币种的账户选项
        accounts.forEach(account => {
          const option = document.createElement("option");
          option.value = account.id;
          // 显示银行卡号+开户行格式
          option.textContent = account.account + "-" + account.branch;
          receivingAccountSelect.appendChild(option);
        });
    });
  </script>
</body>
</html>